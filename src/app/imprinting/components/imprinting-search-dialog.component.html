<h1 mat-dialog-title>경매장 검색</h1>
<div mat-dialog-content>
  <ng-container *ngIf="!copied">
    <mat-form-field>
      <mat-label>검색 방식</mat-label>
      <mat-select
        [ngModel]="searchMode"
        (ngModelChange)="setSearchMode($event)"
      >
        <mat-option value="전체">기본 검색</mat-option>
        <mat-option value="압축">압축 검색</mat-option>
      </mat-select>
    </mat-form-field>
    <div>검색 횟수 : {{ accTypesToSearch.length * toSearch.length }}회</div>
    <div>
      검색 소요 시간 : {{ accTypesToSearch.length * toSearch.length * 6 }}초
      이상
    </div>
  </ng-container>

  <ng-container *ngIf="copied">
    <div>
      검색 코드가 복사되었습니다.
      <a class="link" href="https://icepeng.com/11" target="_blank">설명서</a>를
      참고해 로스트아크 경매장에 검색을 진행해주세요.
    </div>
    <textarea
      placeholder="결과 붙여넣기"
      [(ngModel)]="searchResult"
      matInput
    ></textarea>
    <div class="mat-caption">
      * 검색을 진행하는 동안 이 창을 닫지 말아주세요.
    </div>
    <div class="mat-caption">
      * 지나치게 많이 사용할 시 로스트아크 이용이 제한될 수 있으니, 신중하게
      판단해서 사용해주세요.
    </div>
  </ng-container>
</div>
<div mat-dialog-actions>
  <button
    *ngIf="!copied"
    (click)="copySearchScript()"
    mat-flat-button
    color="primary"
  >
    검색 코드 복사
  </button>
  <button *ngIf="copied" color="primary" mat-flat-button (click)="onSubmit()">
    적용
  </button>
  <button mat-stroked-button (click)="onCancel()">취소</button>
</div>
